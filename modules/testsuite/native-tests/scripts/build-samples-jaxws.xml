<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ JBoss, Home of Professional Open Source.
  ~ Copyright 2011, Red Hat, Inc., and individual contributors
  ~ as indicated by the @author tags. See the copyright.txt file in the
  ~ distribution for a full listing of individual contributors.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License as
  ~ published by the Free Software Foundation; either version 2.1 of
  ~ the License, or (at your option) any later version.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this software; if not, write to the Free
  ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
  ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.
  -->

<project>
  
  <!-- ================================================================== -->
  <!-- Building                                                           -->
  <!-- ================================================================== -->
  
  <target name="build-samples-jaxws" description="Build the jaxws samples deployments">
    
    <mkdir dir="${tests.output.dir}/test-libs"/>
    
    <!-- jaxws-samples-dar -->
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-dar.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/dar/Bus.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarProcessor.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarRequest.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarResponse.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/Route.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/ServiceRequest.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/Stop.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/samples/dar/META-INF">
        <include name="jboss.xml"/>
      </metainf>
    </jar>

    <!-- jaxws-samples-news -->
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-news-step1-newspaper.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/news/PressRelease.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/AbstractPressReleaseEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/PressReleaseEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/NewspaperSWA.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/AbstractNewspaperSWAEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/NewspaperSWAEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/NewspaperMTOM.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/AbstractNewspaperMTOMEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/NewspaperMTOMEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/EditionSWA.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/EditionMTOM.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/jaxws-handlers-server.xml"/>
      </fileset>
    </jar>
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-news-step1-agency.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/news/generated/agency/*.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/Agency.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/XMLGregorianCalendarHelper.class"/>
      </fileset>
    </jar>
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-news-step1-printer.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/news/generated/printer/**/*.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/Printer.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/XMLGregorianCalendarHelper.class"/>
      </fileset>
    </jar>
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-news-step2-newspaper.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/news/PressRelease.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/AbstractPressReleaseEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/SecurePressReleaseEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/NewspaperSWA.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/AbstractNewspaperSWAEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/SecureNewspaperSWAEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/NewspaperMTOM.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/AbstractNewspaperMTOMEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/SecureNewspaperMTOMEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/EditionSWA.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/EditionMTOM.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/jaxws-handlers-server.xml"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/samples/news/META-INF">
        <include name="jboss-wsse-server.xml"/>
        <include name="bob-sign_enc.jks"/>
        <include name="wsse10.truststore"/>
      </metainf>
    </jar>
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-news-step2-agency-client.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/news/generated/agency/*.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/Agency.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/XMLGregorianCalendarHelper.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/SecureAgency.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/samples/news/META-INF">
        <include name="jboss-wsse-client.xml"/>
        <include name="alice-sign_enc.jks"/>
        <include name="wsse10.truststore"/>
      </metainf>
    </jar>
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-news-step2-printer.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/news/generated/printer/**/*.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/Printer.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/XMLGregorianCalendarHelper.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/news/SecurePrinter.class"/>
      </fileset>
    </jar>

    <!-- jaxws-samples-wsa -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsa.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsa/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsa/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsa/jaxws/*.class"/>
       </classes>
       <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/samples/wsa/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/>
    </war>

    <!-- jaxws-samples-wssecurity-encrypt -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-samples-wssecurity-encrypt.war"
      webxml="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/Hello.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException_Exception.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloJavaBean.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/UserType.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/ObjectFactory.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/simple-encrypt/WEB-INF">
        <include name="jboss-wsse-server.xml"/>
      </webinf>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity">
        <include name="wsse.keystore"/>
        <include name="wsse.truststore"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.native.jbossws-native-core"/>
      </manifest>
    </war>
    
    <!-- jaxws-samples-wssecurity-sign -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-samples-wssecurity-sign.war" webxml="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/Hello.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException_Exception.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloJavaBean.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/UserType.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/ObjectFactory.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/simple-sign/WEB-INF">
        <include name="jboss-wsse-server.xml"/>
      </webinf>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity">
        <include name="wsse.keystore"/>
        <include name="wsse.truststore"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.native.jbossws-native-core"/>
      </manifest>
    </war>
    
    <!-- jaxws-samples-wssecurity-sign-fault -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-samples-wssecurity-sign-fault.war" webxml="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/Hello.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException_Exception.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloJavaBean.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/UserType.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/ObjectFactory.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/sign-fault/WEB-INF">
        <include name="jboss-wsse-server.xml"/>
      </webinf>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity">
        <include name="wsse.keystore"/>
        <include name="wsse.truststore"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.native.jbossws-native-core"/>
      </manifest>
    </war>
    
    <!-- jaxws-samples-wssecurity-sign-encrypt-fault -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-samples-wssecurity-sign-encrypt-fault.war" webxml="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/Hello.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloException_Exception.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/HelloJavaBean.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/UserType.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/ObjectFactory.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/sign-encrypt-fault/WEB-INF">
        <include name="jboss-wsse-server.xml"/>
      </webinf>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity">
        <include name="wsse.keystore"/>
        <include name="wsse.truststore"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.native.jbossws-native-core"/>
      </manifest>
    </war>
    
    <!-- jaxws-samples-wssecurity-username -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-samples-wssecurity-username.war"
      webxml="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/simple-username/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/UsernameEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurity/UsernameBean.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurity/simple-username/WEB-INF">
        <include name="jboss-web.xml"/>
        <include name="jboss-wsse-server.xml"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.native.jbossws-native-core"/>
      </manifest>
    </war>
    
    <!-- jaxws-samples-wssecurityAnnotatedpolicy-encrypt -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-samples-wssecurityAnnotatedpolicy-encrypt.war"
      webxml="${tests.output.dir}/test-resources/jaxws/samples/wssecurityAnnotatedpolicy/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/wssecurityAnnotatedpolicy/Hello.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurityAnnotatedpolicy/HelloJavaBean.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurityAnnotatedpolicy/UserType.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecurityAnnotatedpolicy/ObjectFactory.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurityAnnotatedpolicy">
        <include name="wsse.keystore"/>
        <include name="wsse.truststore"/>
      </webinf>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecurityAnnotatedpolicy/WEB-INF">
        <include name="Policy.xml"/>
      </webinf>
      <manifest>
        <attribute name="Dependencies" value="org.jboss.ws.native.jbossws-native-core"/>
      </manifest>
    </war>
    
    <!-- jaxws-samples-wssecuritypolicy-encrypt -->
    <war warfile="${tests.output.dir}/test-libs/jaxws-samples-wssecuritypolicy-encrypt.war"
      webxml="${tests.output.dir}/test-resources/jaxws/samples/wssecuritypolicy/WEB-INF/web.xml">
      <classes dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/wssecuritypolicy/Hello.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecuritypolicy/HelloJavaBean.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecuritypolicy/UserType.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/wssecuritypolicy/ObjectFactory.class"/>
      </classes>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecuritypolicy">
        <include name="wsse.keystore"/>
        <include name="wsse.truststore"/>
      </webinf>
      <webinf dir="${tests.output.dir}/test-resources/jaxws/samples/wssecuritypolicy/WEB-INF">
        <include name="wsdl/**"/>
      </webinf>
      <manifest>
          <attribute name="Dependencies" value="org.jboss.ws.native.jbossws-native-core"/>
      </manifest>
    </war>

    <!-- Please add alphabetically -->

  </target>

</project>
