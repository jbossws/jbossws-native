<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ JBoss, Home of Professional Open Source.
  ~ Copyright 2011, Red Hat, Inc., and individual contributors
  ~ as indicated by the @author tags. See the copyright.txt file in the
  ~ distribution for a full listing of individual contributors.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License as
  ~ published by the Free Software Foundation; either version 2.1 of
  ~ the License, or (at your option) any later version.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this software; if not, write to the Free
  ~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
  ~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.
  -->

<project>
  
  <!-- ================================================================== -->
  <!-- Building                                                           -->
  <!-- ================================================================== -->
  
  <target name="build-samples-jaxws" description="Build the jaxws samples deployments">
    
    <mkdir dir="${tests.output.dir}/test-libs"/>
    
    <!-- jaxws-samples-dar -->
    <jar jarfile="${tests.output.dir}/test-libs/jaxws-samples-dar.jar">
      <fileset dir="${tests.output.dir}/test-classes">
        <include name="org/jboss/test/ws/jaxws/samples/dar/Bus.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarEndpoint.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarProcessor.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarRequest.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/DarResponse.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/Route.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/ServiceRequest.class"/>
        <include name="org/jboss/test/ws/jaxws/samples/dar/Stop.class"/>
      </fileset>
      <metainf dir="${tests.output.dir}/test-resources/jaxws/samples/dar/META-INF">
        <include name="jboss.xml"/>
      </metainf>
    </jar>

    <!-- jaxws-samples-wsa -->
    <war
       warfile="${tests.output.dir}/test-libs/jaxws-samples-wsa.war"
       webxml="${tests.output.dir}/test-resources/jaxws/samples/wsa/WEB-INF/web.xml">
       <classes dir="${tests.output.dir}/test-classes">
          <include name="org/jboss/test/ws/jaxws/samples/wsa/Service*.class"/>
          <include name="org/jboss/test/ws/jaxws/samples/wsa/jaxws/*.class"/>
       </classes>
       <zipfileset
          dir="${tests.output.dir}/test-resources/jaxws/samples/wsa/WEB-INF/wsdl" 
          prefix="WEB-INF/wsdl"/>
    </war>

    <!-- Please add alphabetically -->

  </target>

</project>
