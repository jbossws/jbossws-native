<?xml version="1.0" encoding="UTF-8"?>
<views>

   <namespaces>
      <namespace name="soap" value="http://schemas.xmlsoap.org/soap/envelope/"/>
      <namespace name="wsa" value="http://www.w3.org/2005/08/addressing"/>
      <namespace name="wsrm" value="http://docs.oasis-open.org/ws-rx/wsrm/200702"/>
   </namespaces>

   <view id="wsdl.get">
      <request httpMethod="GET" pathInfo="/ReqResService"/>
      <response contentType="text/xml" statusCode="200" resource="resources/ReqResService.wsdl"/>
   </view>

   <view id="create.sequence">
      <request httpMethod="POST" pathInfo="/ReqResService">
         <contains>
            <node name="|{${soap}}Envelope|{${soap}}Body|{${wsrm}}CreateSequence"/>
         </contains>
         <set property="req.wsa.messageid" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}MessageID"/>
         <set property="req.wsa.action" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}Action"/>
         <set property="req.wsa.replyto" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}ReplyTo|{${wsa}}Address"/>
      </request>
      <response contentType="text/xml" statusCode="200" resource="resources/createSequenceResponse.xml">
         <set property="res.wsa.to" value="${req.wsa.replyto}"/>
         <set property="res.wsa.action" value="http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequenceResponse"/>
         <set property="res.wsa.relatesto" value="${req.wsa.messageid}"/>
         <set property="res.wsrm.sequenceid" value="http://sequence/id/456"/>
      </response>
   </view>

   <view id="sequence.acknowledgement">
      <request httpMethod="POST" pathInfo="/ReqResService">
         <contains>
            <node name="|{${soap}}Envelope|{${soap}}Header|{${wsrm}}Sequence"/>
            <node name="|{${soap}}Envelope|{${soap}}Header|{${wsrm}}AckRequested"/>
         </contains>
         <set property="req.wsa.messageid" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}MessageID"/>
         <set property="req.wsa.action" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}Action"/>
         <set property="req.wsa.replyto" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}ReplyTo|{${wsa}}Address"/>
         <set property="req.wsrm.sequenceid" value="|{${soap}}Envelope|{${soap}}Header|{${wsrm}}Sequence|{${wsrm}}Identifier"/>
         <set property="req.wsrm.messagenumber" value="|{${soap}}Envelope|{${soap}}Header|{${wsrm}}Sequence|{${wsrm}}MessageNumber"/>
      </request>
      <response contentType="text/xml" statusCode="200" resource="resources/echoResponse.xml">
         <set property="res.wsa.to" value="${req.wsa.replyto}"/>
         <set property="res.wsa.action" value="http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement"/>
         <set property="res.wsa.relatesto" value="${req.wsa.messageid}"/>
         <set property="res.wsrm.sequenceid" value="${req.wsrm.sequenceid}"/>
         <set property="res.wsrm.ack.lower" value="${req.wsrm.messagenumber}"/>
         <set property="res.wsrm.ack.upper" value="${req.wsrm.messagenumber}"/>
      </response>
   </view>

   <view id="close.sequence">
      <request httpMethod="POST" pathInfo="/ReqResService">
         <contains>
            <node name="|{${soap}}Envelope|{${soap}}Body|{${wsrm}}CloseSequence"/>
         </contains>
         <set property="req.wsa.messageid" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}MessageID"/>
         <set property="req.wsa.action" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}Action"/>
         <set property="req.wsa.replyto" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}ReplyTo|{${wsa}}Address"/>
         <set property="req.wsrm.sequenceid" value="|{${soap}}Envelope|{${soap}}Body|{${wsrm}}CloseSequence|{${wsrm}}Identifier"/>
      </request>
      <response contentType="text/xml" statusCode="200" resource="resources/closeSequenceResponse.xml">
         <set property="res.wsa.to" value="${req.wsa.replyto}"/>
         <set property="res.wsa.action" value="${req.wsa.action}Response"/>
         <set property="res.wsa.relatesto" value="${req.wsa.messageid}"/>
         <set property="res.wsrm.sequenceid" value="${req.wsrm.sequenceid}"/>
      </response>
   </view>

   <view id="terminate.sequence">
      <request httpMethod="POST" pathInfo="/ReqResService">
         <contains>
            <node name="|{${soap}}Envelope|{${soap}}Body|{${wsrm}}TerminateSequence"/>
         </contains>
         <set property="req.wsa.messageid" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}MessageID"/>
         <set property="req.wsa.action" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}Action"/>
         <set property="req.wsa.replyto" value="|{${soap}}Envelope|{${soap}}Header|{${wsa}}ReplyTo|{${wsa}}Address"/>
         <set property="req.wsrm.sequenceid" value="|{${soap}}Envelope|{${soap}}Body|{${wsrm}}TerminateSequence|{${wsrm}}Identifier"/>
      </request>
      <response contentType="text/xml" statusCode="200" resource="resources/terminateSequenceResponse.xml">
         <set property="res.wsa.to" value="${req.wsa.replyto}"/>
         <set property="res.wsa.action" value="${req.wsa.action}Response"/>
         <set property="res.wsa.relatesto" value="${req.wsa.messageid}"/>
         <set property="res.wsrm.sequenceid" value="${req.wsrm.sequenceid}"/>
      </response>
   </view>

</views>
