This is a xerces bug. The problem is that the latest version of ant only bundles 2.6.2, you need at least 2.7.0 for this not to happen. So all you need to do is update your version of ant. I actually use the one in jboss-head/tools, although you have to drop log4j.jar in jboss-head/tools/lib.

-Jason

> -----Original Message-----
> From: Heiko Braun
> Sent: Friday, July 07, 2006 5:46 AM
> To: Jason T. Greene
> Cc: Dev - JBossWS
> Subject: build failure
>
> Jason,
>
> the build fails due to your latest tools additions and unfortunately I
> am missing "the hitchhikers guide through wstools" in order to
> translate this error into something useful:
>
> generate-sources:
> [move] Moving 2 files to C:\dev\prj\jbossws\branches\jbossws-
> 1.0\output\tests\wstools\java
> [wstools] java.lang.NullPointerException
> [wstools] at java.lang.System.arraycopy(Native Method)
> [wstools] at
> org.apache.xerces.impl.xs.XSModelImpl.getAnnotations(Unknown Source)
> [wstools] at
> org.jboss.ws.metadata.wsdl.xmlschema.WSSchemaUtils.copyXSModel(WSSchem
> aUti
> ls.java:737)
> [wstools] at
> org.jboss.ws.tools.JavaToXSD.parseSchema(JavaToXSD.java:201)
> [wstools] at
> org.jboss.ws.metadata.wsdl.WSDL11Reader.processTypes(WSDL11Reader.java
> :227
> )
> [wstools] at
> org.jboss.ws.metadata.wsdl.WSDL11Reader.processDefinition(WSDL11Reader
> .jav
> a:118)
> [wstools] at
> org.jboss.ws.metadata.wsdl.WSDLDefinitionsFactory.parse(WSDLDefinition
> sFac
> tory.java:145)
> [wstools] at
> org.jboss.ws.tools.WSDLToJava.convertWSDL2Java(WSDLToJava.java:121)
> [wstools] at
> org.jboss.ws.tools.helpers.ToolsHelper.handleWSDLToJavaGeneration(Tool
> sHel
> per.java:323)
> [wstools] at org.jboss.ws.tools.WSTools.process(WSTools.java:138)
> [wstools] at org.jboss.ws.tools.WSTools.generate(WSTools.java:120)
> [wstools] at
> org.jboss.ws.tools.ant.wstools.execute(wstools.java:103)
> [wstools] at
> org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
> [wstools] at org.apache.tools.ant.Task.perform(Task.java:364)
> [wstools] at org.apache.tools.ant.Target.execute(Target.java:341)
> [wstools] at
> org.apache.tools.ant.Target.performTasks(Target.java:369)
> [wstools] at
> org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
> [wstools] at
> org.apache.tools.ant.Project.executeTarget(Project.java:1185)
> [wstools] at
> org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExec
> utor
> .java:40)
> [wstools] at
> org.apache.tools.ant.Project.executeTargets(Project.java:1068)
> [wstools] at org.apache.tools.ant.Main.runBuild(Main.java:668)
> [wstools] at org.apache.tools.ant.Main.startAnt(Main.java:187)
> [wstools] at
> org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)
> [wstools] at
> org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)