<?xml version="1.0" encoding="UTF-8"?>

<!-- ====================================================================== -->
<!--                                                                        -->
<!--  JBoss, the OpenSource J2EE webOS                                      -->
<!--                                                                        -->
<!--  Distributable under LGPL license.                                     -->
<!--  See terms of license at http://www.gnu.org.                           -->
<!--                                                                        -->
<!-- ====================================================================== -->

<!-- $Id$ -->

<project>
  
  <!-- ================================================================== -->
  <!-- Prepare Deployment Source                                          -->
  <!-- ================================================================== -->

  <target name="prepare-deploy" depends="jars">
    
    <delete dir="${deploy.artifacts.dir}"/>
    
    <unzip dest="${deploy.artifacts.dir}/bin" src="${thirdparty.dir}/jbossws-framework-scripts.zip"/>
    <unzip dest="${deploy.artifacts.dir}/bin" src="${core.output.lib.dir}/jbossws-core-scripts.zip"/>
    <copy todir="${deploy.artifacts.dir}/lib">
      <fileset dir="${thirdparty.dir}">
        <patternset refid="jbossws.client.patternset"/>
        <patternset refid="jbossws.lib.patternset"/>
        <patternset refid="jbossws.lib.endorsed.patternset"/>
        <patternset refid="jbossws.server.lib.patternset"/>
        <patternset refid="jbossws.service.lib.patternset"/>
        <include name="jboss-xml-binding.jar"/>
        <include name="jbossws-jboss421.jar"/>
        <include name="jbossws-jboss42.jar"/>
        <include name="jbossws-jboss50.jar"/>
        <include name="jbossws-jboss50-container.jar"/>
        <include name="juddi-service.sar"/>
      </fileset>
      <fileset dir="${core.output.lib.dir}">
        <patternset refid="jbossws.client.patternset"/>
        <patternset refid="jbossws.lib.patternset"/>
        <patternset refid="jbossws.lib.endorsed.patternset"/>
        <patternset refid="jbossws.server.lib.patternset"/>
        <patternset refid="jbossws.service.lib.patternset"/>
        <include name="jbossws-context.war"/>
      </fileset>
    </copy>
    <copy todir="${deploy.artifacts.dir}/resources">
      <fileset dir="${core.output.resources.dir}">
        <include name="standard-*-config.xml"/>
        <include name="jbossws-native42-beans.xml"/>
        <include name="jbossws-native50-beans.xml"/>
        <include name="jbossws-jboss42.sar/**"/>
        <include name="jbossws-deployer-beans.xml"/>
      </fileset>
    </copy>
  </target>
  
</project>
